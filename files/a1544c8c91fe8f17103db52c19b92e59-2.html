<!DOCTYPE HTML>
<html lang="en">

<head>
	
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="robots" content="index, follow" />
		<meta name="generator" content="RapidWeaver" />
		
	<title>Retrieve SQL data in LiveCode | blog | stam66's stuff</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
	<link rel="stylesheet" type="text/css" media="all" href="../rw_common/themes/eclipse/consolidated.css?rwcache=747343548" />
		
	
	
	
	
	
	
	<noscript>
		<style>
			#contentWrapper #fs,
			#sidebar #fs,
			#contentWrapper div[id*='myExtraContent'],
			#sidebar div[id*='myExtraContent'] {
				display: block;
			}
		</style>
	</noscript>
	
	
	<link rel="alternate" type="application/rss+xml" title="My RSS Feed" href="https://stam66.github.io/files/feed.xml" />
<script type="text/javascript" async src="https://stam66.github.io/files/meta.js"></script>

	<!-- 
		Website published using the free Eclipse theme designed and coded by Will Woodgate, https://willwoodgate.com 
		Version 4.1.0
		July 2021
	-->
</head>

<body class="hasBootstrap hasFreeStyle themeFlood">
	<div id="pageWrapper">
		<div id="wrapperOuter">
			<main id="main">
				<div id="extraContainer1"></div>
				<header id="header">
					<div id="headerContentWrap">
						<div id="bootstrapNavBarWrapper">
							<div id="navContent" class="noprint">
								<div id="mainNavButton" class="menu-closed">
									<i class="fas fa-bars"></i>
									<i class="fas fa-minus"></i>
									<div id="mobileToggleLabel"></div>
								</div>
								<nav id="mainNav" class="menu-closed">
									<ul class="toolbarList"><li class="currentListItem"><a href="../" rel="" class="current">blog</a></li><li class="normalListItem"><a href="../markdown/" rel="" class="normal">about</a></li><li class="normalListItem"><a href="../contact-form/" rel="" class="normal">contact</a></li></ul>
								</nav>
							</div>
						</div>
						<div id="extraContainer2"></div>
					</div>
					<div class="bootstrapClearer"></div>
				</header>
				<div id="extraContainer3"></div>
				<div id="topBar"></div>
				<div id="extraContainer4"></div>
				<div id="banner">
					<div id="banner_gradient"></div>
					<div id="banner_content">
						<div id="extraContainer5"></div>
						<div id="siteLogo"><a href="https://stam66.github.io/"></a></div>
						<div id="extraContainer6"></div>
						<h1><a href="https://stam66.github.io/">stam66's stuff</a></h1>
						<div id="extraContainer7"></div>
						<p class="lead">code and random stuff</p>
						<div id="extraContainer8"></div>
					</div>
				</div>
				<div id="extraContainer9"></div>
				<div id="contentContainer">
					<div id="content" role="main">
						<div id="contentWrapper">
								
	<div class="blog-archive-entries-wrapper">
		<div id="unique-entry-id-2" class="blog-entry"><h1 class="blog-entry-title">Retrieve SQL data in LiveCode</h1><div class="blog-entry-date">05/09/24 18:27 Filed in: <span class="blog-entry-category"><a href="category-tutorial.html">Tutorial</a></span></div><div class="blog-entry-body">When you connect to the database, you receive a <strong>connection ID</strong> (a number - if not a number then contains error information) that you can use to read data from the database or manipulate the data stored therein.<br /><br />There are two functions for getting information out of the database:<br /><br />1. The first function is <strong>revDataFromQuery</strong>, which returns a single variable, with the selected fields of the records that fit the criteria in your SQL query in <strong>TSV text format</strong>.<br />Example:<br /><code>put "SELECT cust_id,cust_name FROM Customers" into tQueryput revDataFromQuery(return,tab,tConnectionID,tQuery) into tDataput tData into field "Table Field"</code><br /><br />Returns a return and tab-delimited list like this:<br /><blockquote><p>000001 [ TAB ]  Jane Doe  [END OF LINE]<br>000002 [ TAB ]  Jeff Doe     [END OF LINE]<br>000003 [ TAB ]  John Doe  [END OF LINE]<br></p></blockquote><br />This function is great if you're looking to display some data easily and quickly. But it would be hard to parse out individual fields, and that's where the next function comes to play.<br /><br /><br />2. The second function is <strong>revQueryDatabase</strong>, which executes the query and returns a <strong>cursor ID</strong> - this doesn't contain the data itself, it's an integer that points to a <em>database cursor</em> ,which itself is a collection of pointers to the records in the database that fulfil the SQL query's requirements.<br /><br />You can think of this as navigating cards in a stack where the stack is identified as the cursor ID.<br /><br />To determine how many records there are and which is the current one<br /><code>revNumberOfRecords(<cursor id>)revCurrentRecord(<cursor id>)</code><br /><br /><br />To navigate the records in the result set, you use the commands:<br /><code>revMoveToFirstRecord <cursor id>revMoveToPreviousRecord <cursor id>revMoveToNextRecord <cursor id>revMoveToLastRecord <cursor id></code><br /><br />To determine what fields are in those records, you use:<br /><code>revDatabaseColumnCount(<cursor id>)revDatabaseColumnNames(<cursor id>)</code><br /><br />To fetch the individual fields of the current record, you use:<br /><code>revDatabaseColumnNumbered(<cursor id>,<column number>)revDatabaseColumnNamed(<cursor id>,<column name>)</code><br /><br />To release the result set from memory, you use:<br /><code>revCloseCursor <cursor id></code><p class="blog-entry-tags">Tags: <a href="tag-livecode.html" title="LiveCode" rel="tag">LiveCode</a>, <a href="tag-sql.html" title="SQL" rel="tag">SQL</a></p></div></div>
	</div>
	

							<div class="bootstrapClearer"></div>
						</div>
					</div>
					<aside id="aside">
						<div id="extraContainer10"></div>
						<div id="blockNav"><ul class="toolbarList"><li class="currentListItem"><a href="../" rel="" class="current">blog</a></li><li class="normalListItem"><a href="../markdown/" rel="" class="normal">about</a></li><li class="normalListItem"><a href="../contact-form/" rel="" class="normal">contact</a></li></ul></div>
						<div id="extraContainer11"></div>
						<div id="sidebarWrapper">
							<div id="sidebarTitle">
								<h3>&nbsp;</h3>
							</div>
							<div id="sidebarContent">
								<div id="sidebar"></div>
								<div id="pluginSidebar"><div id="blog-categories"><a href="category-ide.html" class="blog-category-link-enabled">IDE (1)</a><br /><a href="category-tutorial.html" class="blog-category-link-enabled">Tutorial (1)</a><br /></div><div id="blog-archives"><a class="blog-archive-link-enabled" href="archive-september-2024.html">September 2024</a><br /></div><ul class="blog-tag-cloud"><li><a href="tag-livecode.html" title="LiveCode" class="blog-tag-size-11" rel="tag">LiveCode</a></li>
<li><a href="tag-livecode-ide.html" title="LiveCode IDE" class="blog-tag-size-10" rel="tag">LiveCode IDE</a></li>
<li><a href="tag-sql.html" title="SQL" class="blog-tag-size-9" rel="tag">SQL</a></li>
</ul>
<div id="blog-rss-feeds"><a class="blog-rss-link" href="feed.xml" rel="alternate" type="application/rss+xml" title="My RSS Feed">RSS Feed</a><br /></div></div>
								<div id="extraContainer12"></div>
							</div>
						</div>
					</aside>
					<div class="bootstrapClearer"></div>
				</div>
				<div id="extraContainer13"></div>
				<div id="extraContainer14"></div>
				<footer id="footer">
					<div id="footerContent">
						<div id="extraContainer15"></div>
						<div id="breadcrumb"></div>
						<div id="extraContainer16"></div>
						<div id="footerNav"><ul class="toolbarList"><li class="currentListItem"><a href="../" rel="" class="current">blog</a></li><li class="normalListItem"><a href="../markdown/" rel="" class="normal">about</a></li><li class="normalListItem"><a href="../contact-form/" rel="" class="normal">contact</a></li></ul></div>
						<div id="extraContainer17"></div>
						<div id="lastUpdated">06/09/2024<br /></div>
						<div id="extraContainer18"></div>
						<div id="footerText"></div>
						<div id="extraContainer19"></div>
						<!-- Credit to remain on display, unedited and intact at ALL TIMES unless you have previously paid and been granted permission / a license to remove it. This theme is copyright -->
						<div id="eclipseCopyright">Web design by <a href="https://themeflood.com">Will Woodgate</a></div>
						<div id="extraContainer20"></div>
					</div>
				</footer>
			</main>
		</div>
	</div>
	<script src="../rw_common/themes/eclipse/javascript.js?rwcache=747343548"></script>
	<script src="../rw_common/themes/eclipse/scripts/jquery-3.6.0.min.js?rwcache=747343548"></script>
	<script src="../rw_common/themes/eclipse/scripts/scripts.js?rwcache=747343548"></script>
	<script src="../rw_common/themes/eclipse/custom.js?rwcache=747343548"></script>
	
</body>

</html>
